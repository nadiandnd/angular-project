<form [formGroup]="addProductForm" (ngSubmit)="onSubmit()">
  <div class="form-group">
    <label for="name">Product Name</label>
    <input type="text" class="form-control" id="name" formControlName="name" />
  </div>
  <div class="form-group">
    <label for="price">Price</label>
    <input
      type="number"
      class="form-control"
      id="price"
      formControlName="price"
    />
  </div>
  <div class="form-group">
    <label for="category">Category</label>
    <select id="catagory" formControlName="category">
      @for (cat of categories; track cat) {
      <option [value]="cat">{{ cat }}</option>
      }
    </select>
  </div>
  <button class="button" type="button" (click)="addAttribute()">
    + Add another attribute
  </button>
  <div formArrayName="attribute">
    @for (control of attribute.controls; let i = $index; track control;) {
    <div class="form-group">
      <label for="control-{{ i }}">Attribute:</label>
      <input id="control-{{ i }}" type="text" [formControlName]="i" />
      <div (click)="removeAttribute(i)">x</div>
    </div>
    }
  </div>

  <button class="button" type="submit">Submit</button>
</form>
